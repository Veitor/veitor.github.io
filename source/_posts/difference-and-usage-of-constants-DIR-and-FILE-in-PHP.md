---
title: 魔术常量__DIR__和__FILE__的用法区别
url: 37.html
id: 37
categories:
  - PHP
date: 2014-04-21 03:28:31
tags:
---

在写PHP脚本的时候，要定义一个文件目录的绝对路径，通常会使用这两种PHP内置的魔术方法：\_\_DIR\_\_和dirname(\_\_FILE\_\_) 我们可以用var_dump把这两个方法显示结果打印出来看一下

string 'E:\\project\\newapp' (length=17)

你会发现，两个打印结果一样。 但其实他们至少有两处区别：

1.  \_\_DIR\_\_只能用于PHP >= 5.3 版本，这也是为什么大多数你看到的代码中都是使用的dirname(\_\_FILE\_\_)这种写法
2.  \_\_DIR\_\_在编译时运算的，而dirname(\_\_FILE\_\_)要调用函数且在执行时运算

  其他可以参考一下PHP手册， \_\_DIR\_\_：文件所在的目录。如果用在被包括文件中，则返回被包括的文件所在的目录。它等价于_dirname(\_\_FILE\_\_)_。除非是根目录，否则目录中名不包括末尾的斜杠。